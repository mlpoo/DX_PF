#include "stdafx.h"
#include "Scene1.h"

class A
{

};



void Scene1::Start()
{
    BGM = { "spring_day", 1.0f, true };
    Map = { "Map", { 1280 * 4.5f ,  1040 * 4.5f },   0, { 0    ,    0 } };

    Collisions[0] = { { -3037.9, 652.9 } , 0.0 , { -1432.8, 2071.8} };
    Collisions[1] = { { -88.1, 81.7 } , 0.0 , { -2632.9, 1731.4} };
    Collisions[2] = { { 229.0, 4382.7 } , 0.0 , { -2774.3, 4.1} };
    Collisions[3] = { { 312.0, 914.7 } , 0.0 , { -2524.3, 328.7} };
    Collisions[4] = { { 165.5, 100.0 } , 0.0 , { -2593.1, -132.4} };
    Collisions[5] = { { 125.7, 124.6 } , 0.0 , { -2648.6, -193.1} };
    Collisions[6] = { { 3258.6, 317.7 } , 0.0 , { -1534.4, -2204.8} };
    Collisions[7] = { { 3195.7, 402.0 } , 0.0 , { 1649.9, -2242.6} };
    Collisions[8] = { { 777.0, 234.2 } , 0.0 , { 2523.7, -1946.9} };
    Collisions[9] = { { 540.0, 234.8 } , 0.0 , { 2629.8, -1729.0} };
    Collisions[10] = { { 226.8, 2973.9 } , 0.0 , { 2772.1, -352.9} };
    Collisions[11] = { { 156.5, 563.1 } , 0.0 , { 2808.4, 1522.7} };
    Collisions[12] = { { -530.1, 172.5 } , 0.0 , { 2623.4, 1698.6} };
    Collisions[13] = { { 1064.1, 160.2 } , 0.0 , { 1586.7, 1695.4} };
    Collisions[14] = { { 306.3, 623.1 } , 0.0 , { 290.3, 2055.4} };
    Collisions[15] = { { 701.9, 528.0 } , 0.0 , { 752.2, 2086.7} };
    Collisions[16] = { { 1959.2, 606.0 } , 0.0 , { 2002.8, 2054.2} };
    Collisions[17] = { { 228.1, 768.5 } , 0.0 , { -181.9, 1405.3} };
    Collisions[18] = { { 80.5, 80.2 } , 0.0 , { -38.1, 1731.0} };
    Collisions[19] = { { 154.3, 224.2 } , 0.0 , { -502.5, 1512.2} };
    Collisions[20] = { { 538.6, 454.9 } , 0.0 , { -829.7, 1403.6} };
    Collisions[21] = { { 156.7, 85.1 } , 0.0 , { -1009.7, 1154.9} };
    Collisions[22] = { { 151.3, 80.7 } , 0.0 , { -647.3, 1153.5} };
    Collisions[23] = { { 81.2, 77.7 } , 0.0 , { -540.8, 1080.7} };
    Collisions[24] = { { 79.6, 79.5 } , 0.0 , { -1043.8, 937.2} };
    Collisions[25] = { { 77.3, 154.1 } , 0.0 , { -1116.6, 900.1} };
    Collisions[26] = { { 74.5, 686.4 } , 0.0 , { -1115.7, 1368.3} };
    Collisions[27] = { { 534.2, 307.7 } , 0.0 , { -1475.7, 1478.1} };
    Collisions[28] = { { 154.1, 96.5 } , 0.0 , { -1294.9, 1304.7} };
    Collisions[29] = { { 536.7, 302.3 } , 0.0 , { -2197.1, 1476.5} };
    Collisions[30] = { { 1500.8, 77.9 } , 0.0 , { -1851.7, 1657.0} };
    Collisions[31] = { { 80.0, 870.1 } , 0.0 , { -2553.0, 1283.3} };
    Collisions[32] = { { 1531.4, 74.1 } , 0.0 , { -1868.5, 863.5} };
    Collisions[33] = { { 79.1, 79.1 } , 0.0 , { -38.0, -72.5} };
    Collisions[34] = { { 156.3, 155.1 } , 0.0 , { -213.4, 323.3} };
    Collisions[35] = { { 77.6, 155.0 } , 0.0 , { -179.1, 541.6} };
    Collisions[36] = { { 79.5, 306.3 } , 0.0 , { -323.2, 468.4} };
    Collisions[37] = { { 100.0, 75.3 } , 0.0 , { -247.9, 503.5} };
    Collisions[38] = { { 88.0, 85.4 } , 0.0 , { -393.1, 575.5} };
    Collisions[39] = { { 79.4, 77.9 } , 0.0 , { -396.7, 432.4} };
    Collisions[40] = { { 538.2, 305.8 } , 0.0 , { -681.5, 468.2} };
    Collisions[41] = { { 152.7, 84.7 } , 0.0 , { -503.8, 291.3} };
    Collisions[42] = { { 76.4, 82.4 } , 0.0 , { -899.7, 290.3} };
    Collisions[43] = { { 151.6, 155.8 } , 0.0 , { -1224.1, 541.6} };
    Collisions[44] = { { 78.9, 77.7 } , 0.0 , { -1115.4, 432.0} };
    Collisions[45] = { { 534.0, 85.4 } , 0.0 , { -1259.5, 574.6} };
    Collisions[46] = { { 79.0, 70.9 } , 0.0 , { -1046.1, 502.3} };
    Collisions[47] = { { 152.2, 79.9 } , 0.0 , { -1368.9, 433.5} };
    Collisions[48] = { { 73.0, 72.1 } , 0.0 , { -1477.1, 502.9} };
    Collisions[49] = { { 534.7, 310.6 } , 0.0 , { -1908.7, 469.1} };
    Collisions[50] = { { 79.0, 160.5 } , 0.0 , { -1622.8, 542.1} };
    Collisions[51] = { { 81.0, 82.0 } , 0.0 , { -2339.7, 793.9} };
    Collisions[52] = { { 81.5, 78.0 } , 0.0 , { -1549.3, -143.4} };
    Collisions[53] = { { 995.7, 76.5 } , 0.0 , { -1836.4, -71.3} };
    Collisions[54] = { { 74.8, 772.7 } , 0.0 , { -2268.3, 318.8} };
    Collisions[55] = { { 2333.6, 79.0 } , 0.0 , { -1202.2, 647.6} };
    Collisions[56] = { { 1299.1, 78.3 } , 0.0 , { -682.4, -71.1} };
    Collisions[57] = { { 74.1, 780.4 } , 0.0 , { -107.9, 315.9} };
    Collisions[58] = { { 78.1, 75.9 } , 0.0 , { 970.4, 361.7} };
    Collisions[59] = { { 308.4, 389.5 } , 0.0 , { 2591.8, 1444.0} };
    Collisions[60] = { { 228.6, 78.8 } , 0.0 , { 2339.0, 1296.6} };
    Collisions[61] = { { 683.8, 463.1 } , 0.0 , { 1693.0, 1334.9} };
    Collisions[62] = { { 244.5, 76.6 } , 0.0 , { 2116.3, 1154.2} };
    Collisions[63] = { { 231.0, 230.6 } , 0.0 , { 1043.8, 1223.6} };
    Collisions[64] = { { 83.8, 152.7 } , 0.0 , { 900.2, 1332.7} };
    Collisions[65] = { { 77.4, 78.1 } , 0.0 , { 901.2, 1152.3} };
    Collisions[66] = { { 77.6, 80.4 } , 0.0 , { 1187.2, 1153.6} };
    Collisions[67] = { { 458.4, 76.4 } , 0.0 , { 433.7, 1656.8} };
    Collisions[68] = { { 461.7, 77.5 } , 0.0 , { 430.5, 1512.7} };
    Collisions[69] = { { 463.8, 78.2 } , 0.0 , { 433.3, 1368.8} };
    Collisions[70] = { { 460.2, 73.8 } , 0.0 , { 431.1, 1223.7} };
    Collisions[71] = { { 79.8, 76.2 } , 0.0 , { 1044.8, 1799.7} };
    Collisions[72] = { { 79.6, 74.4 } , 0.0 , { 2627.1, 936.6} };
    Collisions[73] = { { 304.4, 460.8 } , 0.0 , { 2303.3, -37.7} };
    Collisions[74] = { { 85.6, 381.6 } , 0.0 , { 2126.6, -0.9} };
    Collisions[75] = { { 86.8, 385.6 } , 0.0 , { 2480.5, -73.7} };
    Collisions[76] = { { 79.2, 80.4 } , 0.0 , { 322.7, -287.6} };
    Collisions[77] = { { 153.6, 80.0 } , 0.0 , { 1.0, -288.3} };
    Collisions[78] = { { 230.4, 230.4 } , 0.0 , { 37.1, -576.9} };
    Collisions[79] = { { 77.2, 78.4 } , 0.0 , { -34.9, -720.2} };
    Collisions[80] = { { 81.1, 81.8 } , 0.0 , { -755.1, -648.1} };
    Collisions[81] = { { 80.4, 81.1 } , 0.0 , { -758.2, -1368.5} };
    Collisions[82] = { { 81.1, 82.5 } , 0.0 , { -35.9, -1873.0} };
    Collisions[83] = { { 79.0, 79.7 } , 0.0 , { 250.1, -1583.4} };
    Collisions[84] = { { 391.2, 235.8 } , 0.0 , { 465.7, -1799.7} };
    Collisions[85] = { { 81.1, 79.0 } , 0.0 , { 2339.7, -1728.8} };
    Collisions[86] = { { 79.7, 78.3 } , 0.0 , { -2053.4, -360.3} };
    Collisions[87] = { { 83.9, 81.8 } , 0.0 , { -2336.4, -359.8} };
    Collisions[88] = { { 77.6, 77.6 } , 0.0 , { -1763.2, -358.3} };
    Collisions[89] = { { 78.3, 75.5 } , 0.0 , { -2053.1, -647.3} };
    Collisions[90] = { { 80.4, 76.9 } , 0.0 , { -1764.1, -648.4} };
    Collisions[91] = { { 82.5, 77.6 } , 0.0 , { -2339.1, -648.0} };
    Collisions[92] = { { 80.4, 76.2 } , 0.0 , { -1765.5, -935.8} };
    Collisions[93] = { { 78.3, 78.3 } , 0.0 , { -2052.9, -937.3} };
    Collisions[94] = { { 83.2, 79.0 } , 0.0 , { -2339.0, -934.6} };
    Collisions[95] = { { 81.0, 79.0 } , 0.0 , { -2555.1, -1007.4} };
    Collisions[96] = { { 76.0, 76.0 } , 0.0 , { -1763.9, -1220.8} };
    Collisions[97] = { { 81.0, 79.0 } , 0.0 , { -2053.9, -1224.0} };
    Collisions[98] = { { 83.0, 81.0 } , 0.0 , { -2338.6, -1222.8} };
    Collisions[99] = { { 79.0, 77.0 } , 0.0 , { -2051.4, -1510.7} };
    Collisions[100] = { { 79.0, 78.0 } , 0.0 , { -1765.5, -1512.6} };
    Collisions[101] = { { 82.0, 77.0 } , 0.0 , { -2339.1, -1511.4} };
    Collisions[102] = { { 80.0, 79.0 } , 0.0 , { -2052.0, -1801.8} };
    Collisions[103] = { { 78.0, 80.0 } , 0.0 , { -1764.6, -1799.3} };
    Collisions[104] = { { 84.0, 81.0 } , 0.0 , { -2337.2, -1800.0} };
    Collisions[105] = { { 79.0, 80.0 } , 0.0 , { -2556.8, -1873.6} };
    Collisions[106] = { { 81.0, 80.0 } , 0.0 , { -1548.3, -1871.5} };
    Collisions[107] = { { 465.1, 306.7 } , 0.0 , { 643.5, -829.4} };
    Collisions[108] = { { 75.2, 247.2 } , 0.0 , { 898.2, -784.9} };
    Collisions[109] = { { 230.7, 461.5 } , 0.0 , { 1190.4, -968.7} };
    Collisions[110] = { { 77.6, 305.7 } , 0.0 , { 1044.5, -971.1} };
    Collisions[111] = { { 75.8, 151.6 } , 0.0 , { 1336.5, -901.3} };
    Collisions[112] = { { 1136.2, 74.0 } , 0.0 , { 897.5, -649.9} };
    Collisions[113] = { { 72.6, 951.6 } , 0.0 , { 394.8, -1099.9} };
    Collisions[114] = { { 831.6, 77.3 } , 0.0 , { 761.4, -1512.7} };
    Collisions[115] = { { 231.1, 78.2 } , 0.0 , { 1332.2, -1512.2} };
    Collisions[116] = { { 76.1, 930.9 } , 0.0 , { 1405.1, -1052.7} };
    Collisions[117] = { { 383.6, 309.2 } , 0.0 , { 1836.2, -973.5} };
    Collisions[118] = { { 231.2, 100.0 } , 0.0 , { 1763.9, -805.0} };
    Collisions[119] = { { 93.2, 230.0 } , 0.0 , { 1626.4, -1007.8} };
    Collisions[120] = { { 230.8, 100.0 } , 0.0 , { 1765.7, -1139.3} };
    Collisions[121] = { { 165.2, 77.2 } , 0.0 , { 2017.0, -719.4} };
    Collisions[122] = { { 464.0, 311.6 } , 0.0 , { 2307.3, -824.5} };
    Collisions[123] = { { 1144.4, 75.6 } , 0.0 , { 2050.8, -649.1} };
    Collisions[124] = { { 76.0, 862.8 } , 0.0 , { 1547.4, -1080.4} };
    Collisions[125] = { { 155.8, 77.2 } , 0.0 , { 1585.9, -1511.0} };
    Collisions[126] = { { 909.4, 76.6 } , 0.0 , { 2157.6, -1513.4} };
    Collisions[127] = { { 76.0, 989.8 } , 0.0 , { 2556.7, -1079.3} };

    Player = new APlayer();
    Player->Start();
}

bool Scene1::Update()
{
    if (Input::Get::Key::Down(VK_F1)) 
        GetSceneManager->ChangeScene("MapEditor");

    if (Input::Get::Key::Down(0x31))  BGM.Play();
    if (Input::Get::Key::Down(0x32))  BGM.Pause();
    if (Input::Get::Key::Down(0x33))  BGM.Stop();


    Map.Draw();
    Player->Update();

    APlayer * player = GetWorld->GetActor<APlayer>();

    return true;
}

void Scene1::End()
{ Player->End(); }
